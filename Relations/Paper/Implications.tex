\section{Implications}
\label{sec:Implications}

From the perspective of programming language theory, the two properties of abstract rewriting 
systems that are most interesting are $\SN$ and $\CR$. The following hierarchies 
show chains of implications starting from these properties.

\begin{center}

    \begin{tikzpicture}[auto,
      arrowstyle/.style={->, line width=1pt, >={Latex[length=3mm, width=2mm]}, shorten >=2pt}]
      % A box style
      \tikzstyle{boxnode} = [draw, rectangle, text centered,minimum width=1.2cm, inner sep=3pt]
  
      % Place the nodes vertically (top to bottom)
      \node (Confluent) [boxnode] at (-4,0) {$\CR$};
      \node (RP)        [boxnode, right=.5cm of Confluent] {$\MP$};
      \node (WN)        [boxnode, right=.5cm of RP] {$\NP$};
      \node (UN)        [boxnode, right=.5cm of WN] {$\UNto$};
  
      % Draw arrows downwards
      \draw[arrowstyle] (Confluent) -- (RP);
      \draw[arrowstyle] (RP) -- (WN);
      \draw[arrowstyle] (WN) -- (UN);
   
        
        % Define the nodes
        \node (SN) [boxnode] at (4,0) {$\SN$};
        \node (WN) [boxnode, above right=0.5cm and 0.5cm of SN] {$\WN$};
        \node (SR) [boxnode, below right=0.5cm and 0.5cm of SN] {$\SM$};
        \node (WR) [boxnode, below right=0.5cm and 0.5cm of WN] {$\WM$};
        
        % Draw the arrows to form a diamond
        \draw [arrowstyle] (SN) -- (WN);
        \draw [arrowstyle] (SN) -- (SR);
        \draw [arrowstyle] (WN) -- (WR);
        \draw [arrowstyle] (SR) -- (WR);
      \end{tikzpicture}
\end{center}
  
The classical property of being minimally decidable is required to complete the implcation 
from $\SN$ to $\WN$, as can be seen in our formalization

\verb|SNdec→WN : (~R R) isMinDec → SN ⊆ WN| \footnotemark[1]

\sacomment{Are we going to define this property here or elsewhere?}

The isMinDec property states that all elements either have a relation to some other element, or 
there is no other element to which they have a relation. If the element relates to no other element then it is terminating 
and so trivially $\WN$. If the element does relate to some other element $y \in A$, then we recursively apply our claim to 
$y$ and because we know that we have the property of $\SN$ we must eventually reach a terminating element. 

Similarly, the property of being minimally decidable is required in order to show that $\SM$ implies $\WM$.

The following tables show which combination of these properties implies a property higher in the hierarchy. Where a combination 
does not imply a higher property an explanatory counterexample is given. The counterexamples referenced are in section \ref{sec:Counterexamples}.

The first table explores where the properties hold locally, the second explores where the properties hold globally. The proofs that the 
following implications hold are primarily found in \texttt{ARS-implications.agda} unless they have been proven as part of the formalization 
of \terese, in which case they will be found in either \texttt{ARS-thoerems.agda} or \texttt{ARS-NewmansLemma.agda}.


\sacomment{UPDATE COUNTEREXAMPLES WHEN CE SECTION FINISHED}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}
\begin{table}[h!]
    \centering
    \caption{Local implications}
    \begin{tabular}{|>{\columncolor{gray!30}}l|c|c|c|c|c|}
    \hline
    \rowcolor{gray!30}     & $\WM$         & $\WN$         & $\SM$             & $\SMandWN$        & $\SN$ \\
    \hline
    $\UNto$ &  CE-, CE-     & CE, CE-       & $\CR$\footnotemark[1] , CE-          & $\CR$\footnotemark[1], CE            & $\CR$\footnotemark[2] , $\SN$ \\
    \hline
    $\NP$ & CE-, CE-      & $\CR$, CE-    & $\CR$\footnotemark[1] , CE-          & $\CR$, $\SN$      & $\CR$\footnotemark[2] , $\SN$ \\
    \hline
    $\MP$ & $\CR$ , CE-    & $\CR$, CE-    & $\CR$\footnotemark[2] , CE- & $\CR$, $\SN$      & $\CR$\footnotemark[2] , $\SN$ \\
    \hline
    $\CR$   & $\CR$, CE-     & $\CR$, CE-     & $\CR$, CE-        & $\CR$, $\SN$     & $\CR$ , $\SN$ \\
    \hline
    
    \end{tabular}
\end{table}
\begin{table}[h!]
    \centering
    \caption{Global implications}
    \begin{tabular}{|>{\columncolor{gray!30}}l|c|c|c|c|c|}
    \hline
    \rowcolor{gray!30}     & $\WM$         & $\WN$         & $\SM$             & $\SMandWN$        & $\SN$ \\
    \hline
    $\UNto$ &  CE-, CE-     & $\CR$, CE-    & $\CR$\footnotemark[1] , CE-          & $\CR$, $\SN$      & $\CR$\footnotemark[2] , $\SN$ \\
    \hline
    $\NP$ & CE-, CE-      & $\CR$, CE-    & $\CR$\footnotemark[1] , CE-          & $\CR$, $\SN$      & $\CR$\footnotemark[2] , $\SN$ \\
    \hline
    $\MP$ & $\CR$ , CE    & $\CR$, CE-    & $\CR$\footnotemark[2] , CE- & $\CR$, $\SN$      & $\CR$\footnotemark[2] , $\SN$ \\
    \hline
    $\CR$   & $\CR$, CE     & $\CR$, CE     & $\CR$, CE-        & $\CR$, $\SN$      & $\CR$ , $\SN$ \\
    \hline
    
    \end{tabular}
\end{table}
\footnotetext[1]{This implication also requires global $\WCR$.}
\footnotetext[2]{This implication also requires either global $\WCR$ or the classical property required to go from 
$\SN \to \WN$ or $\SM \to \WM$.}
\renewcommand*{\thefootnote}{\arabic{footnote}}


\sacomment{Need to update the tables with appropriate symbols for global and local. Colour for first row and column?}

The tables show that there are two changes when moving from properties holding locally to globally. 
Globally $\WN \land \UNto \implies \CR$ holds whereas it does not locally. Similarly, $\SM \land \WN \implies \SN$ holds 
globally but not locally. 

Theorem 1.2.2 ii in \terese is the claim that $\WN \land \UN \implies \CR$ holds, and we formalize this in

\verb|ii : R isWN × R isUN → R isCR| \footnotemark[3]

We have modestly generalized this theorem by showing that $\WN \land \UNto \implies \CR$ holds (and indeed this is the basis for our proof of the theorem). 
Counterexample \sacomment{REF HERE} shows why this implication cannot hold when the properties are only local. Our proof is in the function:

\verb|UN→∧WN→CR : R isUN→ → R isWN → R isCR| \footnotemark[1]

To show that $\SM \land \WN \implies \SN$ we built on our proof that locally $\SM \land \WN \land \NP \implies \SN$. If $\WN$ applies 
globally then our proof no longer requires the property $\NP$. This progression of proofs can be seen in the functions:

\verb|WN∧NP∧SM→SN : ∀ {x} → WN x → NP x → SM x → SN x| 

\verb|isWN∧SM→SN : R isWN → ∀ {x} → SM x → SN x|

\verb|isWN∧isSM→isSN : R isWN → R isSM → R isSN| \footnotemark[1]